<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html><head>
<title>Sanitized JQuery Templates Test</title>
<script src="js/jquery-1.5.2.js"></script>
<script src="js/jquery.tmpl.js"></script>
<script src="js/compat.js"></script>
<script src="js/contextUpdate.js"></script>
<script src="js/escapers.js"></script>
<script src="js/jquery-templates.js"></script>
<script src="js/fixupJson.js"></script>
<script src="js/jqueryTemplatesTestbed.js"></script>
<style>
body { padding: .5em }
small { font-size: 50% }
body, td, th { font-size: 150%; vertical-align: top }
textarea { font-size: 100% }
#htmlContent, #data {
  width:100%; padding: .25em; border: 4px solid #9cf;
  font-family: monospace
}
table { empty-cells: show }
.error { color: red }
pre, textarea { white-space: pre-wrap }
.leftrow { border-right: 2px solid #9cf }
.rightrow { border-left: 2px solid #9cf }
#permalink {
  border: 2px solid #fc0;
  padding: .125em;
  background-color: #ffe;
  font-family: monospace;
  width: 100%
}
.sanitizer { text-decoration: underline }
h1 { margin-bottom: 0 }
</style>
</head>

<body>
<h1>
  Sanitized JQuery Templates Test
  <small>[<a onclick="showLink()" href="produces: a link you can email"
    >permalink</a>]</small>
</h1>

<p id="exampleList"></p>
<script>populateExampleDropdown()</script>

<!--
  - Initially invisible but displayed when filled with a permalink.
  - Onblur, we hide again so it does not get out of sync with edited
  - textareas.
  -->
<textarea id="permalink" style="display:none" onclick="this.select()"
 onblur="$('#permalink').fadeOut(500)"
 ></textarea>

<div style="left: 0; right: -1em; position: relative">
<table width=100% cols=2 cellpadding=10 cellspacing=0>
  <tr>
    <td width=50% class=leftrow>
      Enter your jQuery templates below or select from the dropdown at
      top-right to prefill with an example.
    <td width=50% class=rightrow>
      <p>
      Enter JSON data to pass to the template below.
      </p>
  </tr>
  <tr>
    <td class=leftrow>
      <textarea rows="15" id="htmlContent">
<!-- A jQuery template named "helloWorld" -->
<script type="text/x-jquery-tmpl" id="helloWorld">
Hello,
<b onclick="alert(${world})"> ${world} </b>!
</script>
</textarea>
    <td class=rightrow>
      <textarea rows=15 id=data onblur="this.value = fixupJson(this.value)">
{ value: 42, color: red, name: 'John Doe', "bars": ['foo1', 'foo2'], world: 'Cincinatti' }
</textarea>
  </tr>
  <tr align=center>
    <td class=leftrow>
      <button onclick="sanitize()">Sanitize templates</button>
      <button onclick="sanitize(true)" title="Sanitize then run first template"
       >I'm feeling lucky</button>
    </td>
    <td class=rightrow>
      <button id=runbutton disabled onclick="runTemplate()"
       >Run template</button>
      <select id=template-select onchange="
       document.getElementById('runbutton').disabled = !(this.selectedIndex > 0)
       ">
        <option>Choose a template&hellip;</option>
      </select></td>
  </tr>
  <tr>
    <td class=leftrow id=sanitizer-output></td>
    <td class=rightrow id=template-output></td>
  </tr>
</table>

<script>populateInputsFromLink()</script>

<br>
<center><small>
<!-- hhmts start -->Last modified: Fri Apr 15 12:10:57 PDT 2011 <!-- hhmts end --></small></center>
</body></html>
